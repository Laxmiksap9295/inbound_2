<core:FragmentDefinition xmlns="sap.m"
    xmlns:core="sap.ui.core">
    <Dialog id="idAttachmentDialog" title="{i18n>TruckAttachments}" stretchOnPhone="true" class="sapUiContentPadding" contentWidth="50%" contentHeight="auto">
        <VBox fitContainer="true">
            <!-- Attachments Table -->
            <Table id="idAttachmentTable" items="{TruckAttachments>/}">
                <columns>
                    <Column>
                        <Text text="{i18n>FileNames}" />
                    </Column>
                    <!-- <Column>
                        <Text text="Type" />
                    </Column> -->
                </columns>
                <items>
                    <ColumnListItem>
                        <cells>
                            <!-- Clicking link triggers preview or download -->
                            <Link text="{TruckAttachments>Fname}" press=".onFileLinkPress" />
                            <!-- <Text text="{TruckAttachments>Ftype}" /> -->
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>

            <!-- Preview Section -->
            <VBox id="idPreviewBox" visible="false" class="sapUiSmallMarginTop">
                <HBox justifyContent="SpaceBetween" alignItems="Center">
                    <Text text="{i18n>Preview}" id="idPreviewTitle" design="Bold" />
                    <Button icon="sap-icon://decline" type="Transparent" tooltip="Close Preview" press=".onClosePreview" />
                </HBox>

                <!-- For images -->
                <Image id="idPreviewImage" visible="false" width="100%" densityAware="false" />
            </VBox>
        </VBox>

        <endButton>
            <Button text="Close" press=".onCloseAttachmentDialog" />
        </endButton>
    </Dialog>
</core:FragmentDefinition>
