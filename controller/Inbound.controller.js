var oThat;sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/m/BusyDialog","sap/ui/model/json/JSONModel","sap/ui/model/Filter"],function(e,t,o,n,r){"use strict";return e.extend("ZGT_MM_INBOUND.controller.Inbound",{onInit:function(){oThat=this;oThat.oView=this.getView();oThat.BusyDialog=new o;this.oRouter=sap.ui.core.UIComponent.getRouterFor(this);this.oRouter.getRoute("Inbound").attachMatched(this._onRouteMatched,this)},_onRouteMatched:function(e){oThat=this;oThat.oView=oThat.getView();oThat.oModel=oThat.getOwnerComponent().getModel();var t=[new r("Direction",sap.ui.model.FilterOperator.EQ,"X")];oThat.Service="DIRECTION";oThat.onCallService(oThat.Service,t)},onCallService:function(e,t){if(oThat.Service==="DIRECTION"){oThat.BusyDialog.open();oThat.oModel.read("/F4ParametersSet",{filters:t,urlParameters:{$expand:"F4DirectionNav,F4ProcessNav,F4PlantNav,F4TransporterNav,F4VehTypeNav"},success:oThat.mySuccessHandler,error:oThat.myErrorHandler})}else if(oThat.Service==="ACTIVITY"){oThat.BusyDialog.open();oThat.oModel.read("/F4ActivitysSet",{filters:t,success:oThat.mySuccessHandler,error:oThat.myErrorHandler})}},mySuccessHandler:function(e,t){oThat.BusyDialog.close();if(oThat.Service==="DIRECTION"){oThat.EvVehGateEntry=e.results[0].EvVehGateEntry;oThat.oView.setModel(new n(e),"DIRECT");if(e.results[0].F4DirectionNav.results.length!=0){oThat.Service="ACTIVITY";var o=[new r("Direction",sap.ui.model.FilterOperator.EQ,e.results[0].F4DirectionNav.results[0].DomvalueL),new r("Langu",sap.ui.model.FilterOperator.EQ,"EN")];oThat.onCallService(oThat.Service,o)}}else if(oThat.Service==="ACTIVITY"){oThat.oView.setModel(new n(e),"ACT");oThat.oView.getModel("ACT").refresh(true)}},myErrorHandler:function(e){oThat.BusyDialog.close();var o=oThat.oView.getModel("i18n").getResourceBundle().getText("Title21");t.show(e.responseText,t.Icon.ERROR,o)},onSelectTabBar:function(e){if(e.getSource().getSelectedKey()=="IN"){if(!oThat.oView.getModel("ACT")){var o=[new r("Direction",sap.ui.model.FilterOperator.EQ,"IN")];oThat.onCallService("ACTIVITY",o)}}else if(e.getSource().getSelectedKey()=="OUT"){try{var n=sap.ushell.Container.getService("CrossApplicationNavigation");var i=n&&n.hrefForExternal({target:{semanticObject:"zgtca_load_cnfm_SO",action:"approve"}})||"";var a=window.location.href.split("#")[0]+i;sap.m.URLHelper.redirect(a,false)}catch(e){t.error(e.message)}}},fnProcessPress:function(e){var t=this;if(e.getSource().getBindingContext("ACT").getObject().Descn==="ENTRY"){t.oRouter.navTo("GateEntry",{EvVehGateEntry:t.EvVehGateEntry})}else if(e.getSource().getBindingContext("ACT").getObject().Descn==="PROAS"){t.oRouter.navTo("VehicleAssignment")}else if(e.getSource().getBindingContext("ACT").getObject().Descn==="PRECK"){t.oRouter.navTo("PreQuality")}else if(e.getSource().getBindingContext("ACT").getObject().Descn==="UNCON"){t.oRouter.navTo("Unloading")}else if(e.getSource().getBindingContext("ACT").getObject().Descn==="EXIT"){t.oRouter.navTo("GateExit")}else if(e.getSource().getBindingContext("ACT").getObject().Descn==="STAUP"){t.oRouter.navTo("Status")}else if(e.getSource().getBindingContext("ACT").getObject().Descn==="APPRO"){t.oRouter.navTo("Approve")}else if(e.getSource().getBindingContext("ACT").getObject().Descn==="CHARU"){t.oRouter.navTo("BatchUpdate")}else if(e.getSource().getBindingContext("ACT").getObject().Descn==="TRUCK"){t.oRouter.navTo("TruckReporting")}else if(e.getSource().getBindingContext("ACT").getObject().Descn==="QUEUE"){t.oRouter.navTo("TruckQueue")}else if(e.getSource().getBindingContext("ACT").getObject().Descn==="PRE_R"){t.oRouter.navTo("PreQualityException")}else if(e.getSource().getBindingContext("ACT").getObject().Descn==="OP_TA"){t.oRouter.navTo("OperationalTat")}else if(e.getSource().getBindingContext("ACT").getObject().Descn==="PROCA"){var o=sap.ushell.Container.getService("CrossApplicationNavigation");var n=o&&o.hrefForExternal({target:{semanticObject:"ZGT_MM_PROPOR_SO",action:"manage"}})||"";var r=window.location.href.split("#")[0]+n;sap.m.URLHelper.redirect(r,false)}else if(e.getSource().getBindingContext("ACT").getObject().Descn==="GRGI"){var o=sap.ushell.Container.getService("CrossApplicationNavigation");var n=o&&o.hrefForExternal({target:{semanticObject:"ZGT_GLOBAL_GRN_SO",action:"display"}})||"";var r=window.location.href.split("#")[0]+n;sap.m.URLHelper.redirect(r,false)}else if(e.getSource().getBindingContext("ACT").getObject().Descn==="QALAB"){t.oRouter.navTo("EwayBill")}else if(e.getSource().getBindingContext("ACT").getObject().Descn==="OCRUP"){t.oRouter.navTo("WBQTYUpdate")}},fnPressVASubmit:function(e){var t=this;t.ValueHelp.destroy()},onExit:function(){var e=this}})});
//# sourceMappingURL=Inbound.controller.js.map